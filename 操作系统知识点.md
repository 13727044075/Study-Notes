## 操作系统知识点

* **特权指令是作用于操作系统系统态的**，一般不直接提供给用户使用。
* 系统开机后，操作系统的程序会被自动加载到内存中的系统区，这段区域是RAM。
* 单处理机计算机系统中，**处理机操作和通道操作是并行的。**
* 操作系统在计算机系统中位于**硬件和用户软件**之间。

------
#### 进程

* 进程间共享通信的方式主要有：**管道、信号量、消息队列、共享内存、信号、套接口**

* 进程在运行中不断地改变其运行状态。通常，一个运行进程必须具有以下三种基本状态：就绪(Ready)状态、执行（Running）状态和阻塞(Blocked)状态。

* 在操作系统中，可以并行工作的基本单位是**进程。**

* 操作系统必须有一个进程，一个进程必须有一个线程;

* 线程必定从属于某个进程；

* 线程不能更改从属的进程；

* **强迫性中断由随机事件引起而非程序员事先安排, 硬件故障中断,程序性中断,外部中断及输入/输出中断是强迫性中断.**

* 分时系统的四个特点：

  1、多路性。允许一台主机上联接多台终端，系统按分时原则为每个用户服务；

  2、独立性。每个用户各占一个终端，独立操作，互不干扰；

  3、及时性。用户的请求能在很短的时间内获得响应；

  4、交互性。用户可通过终端与系统进行广泛的人机对话。

##### 1. 调度算法

* 短作业优先又称为“短进程优先”SPN(Shortest Process Next)；这是对FCFS算法的改进，其目标是减少平均周转时间。

    定义：
  对预计执行时间短的作业（进程）优先分派处理机。通常后来的短作业不抢先正在执行的作业。
  SJF的特点：
  (1) 优点：
  比FCFS改善平均周转时间和平均带权周转时间，缩短作业的等待时间；
  提高系统的吞吐量；
  (2) 缺点：
  对长作业非常不利，可能长时间得不到执行；
  未能依据作业的紧迫程度来划分执行的优先级；
  难以准确估计作业（进程）的执行时间，从而影响调度性能。

* 考虑到**紧迫型作业**进入系统后能得到优先处理，引入了**最高优先级优先调度算法**。

* 对于分时操作系统， CPU 进行进程的调度经常采用的算法是**时间片轮转**。

* 满足短任务优先且不会发生饥饿现象的调度算法是**高响应比优先**，这是由于**响应比等于等待时间加上服务时间再除以服务时间**，所以等待时间相同时，短作业的响应比更大，能优先获得时间片，另一方面，当服务时间相同时，等待时间越长，响应比越大，所以同时照顾了长作业

##### 2. 线程

* **线程通常被定义为一个进程中代码的不同执行路线。**从实现方式上划分，线程有两种类型：**“用户级线程”和“内核级线程”。** 

* **用户线程指不需要内核支持而在用户程序中实现的线程**，其不依赖于操作系统核心，应用进程利用线程库提供创建、同步、调度和管理线程的函数来控制用户线程。这种线程甚至在象 DOS 这样的操作系统中也可实现，但线程的调度需要用户程序完成，这有些类似 Windows 3.x 的协作式多任务。

* **内核级线程需要内核的参与，由内核完成线程的调度。其依赖于操作系统核心**，由内核的内部需求进行创建和撤销，这两种模型各有其好处和缺点。

* **用户线程不需要额外的内核开支**，并且用户态线程的实现方式可以被定制或修改以适应特殊应用的要求，但是当一个线程因 I/O 而处于等待状态时，整个进程就会被调度程序切换为等待状态敏感词线程得不到运行的机会；而**内核线程则没有各个限制，有利于发挥多处理器的并发优势，但却占用了更多的系统开支**。 Windows NT和OS/2支持内核线程。Linux 支持内核级的多线程

  ​

------
#### I/O输入输出

* 采用I/O通道控制方式后，I/O操作过程为：**当CPU在执行主程序时遇到I/O请求，CPU启动在指定通道上选址的设备**，一旦启动成功，通道开始控制设备进行操作，这时CPU就可以执行其他任务并与通道并行工作，直到I/O操作完成。**当通道发出I/O操作结束中断时，CPU才响应并停止当前工作，转而处理I/O操作结束事件**。因此，I/O通道控制方式**需要**CPU干预。

* **通道指令是用来执行I/O操作的指令，而一般指令是大众CPU指令。**

  ​

------
#### 存储管理

* 在请求分页系统中，页面分配策略与页面置换策略不能组合使用的是**固定分配，全局置换**，因为固定分配时页面数不变，不可能出现全局置换。常见的3种策略有：

  * 可变分配，全局置换；
  * 可变分配，局部置换；
  * 固定分配，局部置换；

* 内存管理中的LRU：全称是：Least Recently Used（最近最久未使用）置换算法，所以这个算法涉及到了**虚拟内存的分配和物理内存的释放。**


------
#### 死锁

* 所谓死锁： **是指两个或两个以上的进程在执行过程中，由于竞争资源或者由于彼此通信而造成的一种阻塞的现象**，若无外力作用，它们都将无法推进下去。此时称系统处于死锁状态或系统产生了死锁，这些永远在互相等待的进程称为死锁进程。

* ​

------

#### 文件管理

* 顺序文件是**指按记录进入文件的先后顺序存放、其逻辑顺序和物理顺序一致的文件**。一切存储在顺序存取存储器(如磁带)上的文件，都只能是顺序文件。
* 对顺序文件，插入新纪录只能加在文件末尾；存取第i个记录，必须从头开始搜索；如要更新文件中的记录，必须将整个文件复制。
* ​